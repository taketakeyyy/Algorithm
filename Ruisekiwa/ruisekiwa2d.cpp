#include <bits/stdc++.h>
using namespace std;

// 5x10の配列a
const vector<vector<int>> a = {
{1, 0, 1, 0, 1, 0, 1, 0, 1, 0},
{2, 0, 2, 0, 2, 0, 2, 0, 2, 0},
{3, 0, 3, 0, 3, 0, 3, 0, 3, 0},
{-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
{1, 1, 2, 1, 1, 2, 1, 1, 2, 0},
};


void test(){
    int H = (int)a.size();
    int W = (int)a[0].size();
    vector<vector<int>> S(H+1, vector<int>(W+1, 0));

    /* Sの作成（前処理） */
    for (int h=1; h<H+1; h++) {
        for (int w=1; w<W+1; w++) {
            S[h][w] = a[h-1][w-1] + S[h][w-1] + S[h-1][w] - S[h-1][w-1];
        }
    }

    /* Sを出力 */
    for (int h=0; h<S.size(); h++) {
        for (int w=0; w<S[0].size(); w++) {
            printf("%2d ", S[h][w]);
        }
        cout << endl;
    }
    /* Sの中身
     0  0  0  0  0  0  0  0  0  0  0
     0  1  1  2  2  3  3  4  4  5  5
     0  3  3  6  6  9  9 12 12 15 15
     0  6  6 12 12 18 18 24 24 30 30
     0  5  4  9  8 13 12 17 16 21 20
     0  6  6 13 13 19 20 26 26 33 32
    */
    cout << "===" << endl;

    /* クエリ処理
     * [h1,h2)x[w1,w2)の範囲の区間和を求める
     */
    int h1, h2, w1, w2;
    h1=1; h2=5; w1=4; w2=7;
    /*
     * a[5][10] = {
     * {1, 0, 1, 0,   1, 0, 1, 0, 1, 0},
     *              +---------+
     * {2, 0, 2, 0, | 2, 0, 2,| 0, 2, 0},
     * {3, 0, 3, 0, | 3, 0, 3,| 0, 3, 0},
     * {-1,-1,-1,-1,|-1,-1,-1,|-1,-1,-1},
     * {1, 1, 2, 1, |1, 2, 1, | 1, 2, 0},
     *              +---------+
     * };
     */
    cout << S[h2][w2] - S[h1][w2] - S[h2][w1] + S[h1][w1] << endl;
    // 11
    cout << "---" << endl;

    h1=0; h2=1; w1=0; w2=1;
    /*
     * a[5][10] = {
     *  +--+
     * {|1 |, 0, 1, 0,  1, 0, 1, 0, 1, 0},
     *  +--+
     * {2, 0, 2, 0,  2, 0, 2, 0, 2, 0},
     * {3, 0, 3, 0,  3, 0, 3, 0, 3, 0},
     * {-1,-1,-1,-1,-1,-1,-1,-1,-1,-1},
     * {1, 1, 2, 1,  1, 2, 1,  1, 2, 0},
     * };
     */
    cout << S[h2][w2] - S[h1][w2] - S[h2][w1] + S[h1][w1] << endl;
    // 1
}


int main(int argc, char const *argv[]){
    test();
    return 0;
}